@import "./variable";
@import "./mixins";

// Our Journey & Legacy — horizontal timeline, nav arrows, content cards (image + text + image)
$journey-bg: #16888C;
$journey-active: #E87C2B;
$journey-dot-grid: rgba(255, 255, 255, 0.06);

.journey-legacy {
	position: relative;
	padding: 110px 0 100px;
	overflow: hidden;
	background-color: $journey-bg;
	height: 110vh;

	@media #{$media-768} {
		padding: 60px 0 80px;
	}
	&:before{
		content: '';
		position: absolute;
		top: 0;
		left: 0;
		width: 100%;
		height: 150px;
		mask-image: url(../images/timeline_mask.svg);
		mask-size: cover;
		mask-position: center;
		mask-repeat: no-repeat;
		z-index: 0;
	}
	&:after{
		content: '';
		position: absolute;
		bottom: 0;
		right: 0;
		width: 556px;
		height:563px;
		background-image: url(../images/timeline_graphic.png);
		background-size: cover;
		background-position: center;
		background-repeat: no-repeat;
		z-index: 0;
	}
}

.journey-legacy__bg {
	position: absolute;
	inset: 0;
	background-image: radial-gradient(circle, $journey-dot-grid 1px, transparent 1px);
	background-size: 24px 24px;
	z-index: 0;
}

.journey-legacy__inner {
	position: relative;
	z-index: 1;
}
.journey-legacy__timeline{
	padding-left: calc((100% - (1400px - 1.5rem))/2);

}
.journey-legacy__header {
	display: flex;
	align-items: center;
	justify-content: space-between;
	margin-bottom: 50px;
	gap: 1rem;
	flex-wrap: wrap;

	@media #{$media-768} {
		margin-bottom: 36px;
	}
}

.journey-legacy__title {
	margin: 0;
	text-align: left;
	font-size: size(44px);
	line-height: size(52px);
	color: $white;
	font-weight:500;
	width: 30%;

	@media #{$media-768} {
		font-size: size(26px);
		line-height: 1.2;
	}
}

.journey-legacy__nav {
	display: flex;
	align-items: center;
	gap: 12px;
}

.journey-legacy__nav-btn {
	display: flex;
	align-items: center;
	justify-content: center;
	width: 50px;
	height: 50px;
	padding: 0;
	border: none;
	outline: none;
	background-color: transparent;
	cursor: pointer;
	&:disabled {
		opacity: 0.4;
		cursor: not-allowed;
	}
}

// Timeline bar and years
.journey-legacy__timeline-wrap {
	position: relative;
	margin-bottom: 60px;

	@media #{$media-768} {
		margin-bottom: 40px;
	}
}

.journey-legacy__timeline-bar {
	position: absolute;
	left: 0;
	right: 0;
	top: 50%;
	height: 2px;
	background: rgba(255, 255, 255, 0.25);
	transform: translateY(-50%);
	z-index: 0;
}

.journey-legacy__years {
	position: relative;
	display: flex;
	align-items: center;
	justify-content: space-between;
	z-index: 1;
	gap: 8px;
	flex-wrap: wrap;
	padding-left: calc((100% - (1400px - 1.5rem))/2);
}

.journey-legacy__year {
	padding: 8px 12px;
	background: none;
	border: none;
	color: $white;
	font-family: inherit;
	font-size: size(16px);
	font-weight: 600;
	cursor: pointer;
	transition: color 0.25s ease;
	flex: 1;
	min-width: 0;
	max-width: 120px;
	position: relative;

	&:hover {
		color: rgba(255, 255, 255, 0.9);
	}

	&.is-active {
		.journey-legacy__year-label {
			color: #F47B47;
		}

		.journey-legacy__year-dot {
			background: #F47B47;
			transform: scale(1.15);
			box-shadow: 0 0 0 4px rgba($journey-active, 0.25);
		}
	}

	@media #{$media-768} {
		font-size: size(14px);
		max-width: 72px;
	}
}

.journey-legacy__year-dot {
	width: 14px;
	height: 14px;
	border-radius: 50%;
	background: #fff;
	transition: background 0.25s ease, transform 0.25s ease, box-shadow 0.25s ease;
	flex-shrink: 0;
	position: absolute;
    left: 0;
    top: 2px;
    right: 0;
    margin: 0 auto;
}

.journey-legacy__year-label {
	white-space: nowrap;
	font-size: size(50px);
	line-height: size(60px);
	font-weight: 200;
	color: $white;
	position: absolute;
    top: 20px;
    left: 0;
    right: 0;
    margin: 0 auto;
    text-align: center;
    justify-content: cen
}
// Content cards — two-column: image left, text right (aligned below timeline)
.journey-legacy__cards-wrap {
	position: relative;
	margin-top: 120px;
}

.journey-legacy-swiper {
	overflow: visible !important;
	width: 100%;
}

.journey-legacy__card-set {
    display: flex !important;
    align-items: flex-start;
    gap: 50px;
    justify-content: space-between;

	@media #{$media-768} {
		grid-template-columns: 1fr;
		gap: 24px;
		min-height: auto;
	}
}

.journey-legacy__card {
	position: relative;
	overflow: hidden;

	&--image {
		// Custom shape: bottom-left more rounded, curved top-right and bottom-right (per reference)

		aspect-ratio: 688/385;
		mask-image: url("../images/timeline_mask.svg");
		mask-size: cover;
		mask-position: center;
		mask-repeat: no-repeat;

		img {
			width: 100%;
			height: 100%;
			object-fit: cover;
			display: block;
			filter: grayscale(100%);
			transition: filter 0.3s ease;
		}

		.swiper-slide-active & img {
			filter: grayscale(0%);
		}

		@media #{$media-768} {
			border-radius: 0 20px 20px 14px;
			min-height: 220px;
			aspect-ratio: 16/10;
		}
	}

	&--text {
		display: flex;
		flex-direction: column;
		justify-content: space-between;
		width: calc(100% - 688px);
		min-height: 285px;
		@media #{$media-768} {
			padding: 28px 24px;
		}
	}
	.journey-legacy__card-content{
		 padding-right: 100px;
	}
	p{
		line-height: size(23px);
		color: #fff;
		font-weight:300;
		margin: 0;
	}
}

.journey-legacy__card-subtitle {
	display: block;
	font-size: size(20px);
	line-height: size(30px);
	font-weight: 100;
	color: #fff;
	margin-bottom: 12px;
}

.journey-legacy__card-title {
	font-family: "REM", sans-serif;
	font-size: size(30px);
	font-weight: 500;
	line-height: size(31px);
	color: $white;
	margin: 0 0 16px 0;
	padding-right: 70px;

	@media #{$media-768} {
		font-size: size(22px);
		margin-bottom: 12px;
	}
}

.journey-legacy__card-desc {
	font-size: size(16px);
	line-height: 1.6;
	color: rgba(255, 255, 255, 0.85);
	margin: 0;

	@media #{$media-768} {
		font-size: size(14px);
	}
}
